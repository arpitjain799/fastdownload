---

title: Core API


keywords: fastai
sidebar: home_sidebar



nb_path: "00_core.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 00_core.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Helpers">Helpers<a class="anchor-link" href="#Helpers"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This helper functions provide the functionality that <a href="/core.html#FastDownload"><code>FastDownload</code></a> relies on. Most users should use <a href="/core.html#FastDownload"><code>FastDownload</code></a> rather than calling these helpers.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dest</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;tmp&#39;</span><span class="p">)</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://s3.amazonaws.com/fast-ai-sample/mnist_tiny.tgz&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="download_url" class="doc_header"><code>download_url</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L17" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>download_url</code>(<strong><code>url</code></strong>, <strong><code>dest</code></strong>=<em><code>None</code></em>, <strong><code>timeout</code></strong>=<em><code>None</code></em>, <strong><code>show_progress</code></strong>=<em><code>True</code></em>)</p>
</blockquote>
<p>Download <code>url</code> to <code>dest</code> and show progress</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dest</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">fpath</span> <span class="o">=</span> <span class="n">download_url</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
<span class="n">fpath</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='344064' class='' max='342207' style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.54% [344064/342207 00:00<00:00]
    </div>
    </div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;tmp/mnist_tiny.tgz&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="path_stats" class="doc_header"><code>path_stats</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L26" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>path_stats</code>(<strong><code>fpath</code></strong>)</p>
</blockquote>
<p><code>True</code> if size and hash of <code>fpath</code> matches <code>size_check</code> and <code>hash_check</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path_stats</span><span class="p">(</span><span class="n">fpath</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(342207, &#39;56143e8f24db90d925d82a5a74141875&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="checks_module" class="doc_header"><code>checks_module</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L34" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>checks_module</code>(<strong><code>module</code></strong>)</p>
</blockquote>
<p>Location of <code>download_checks.py</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>download_checks.py</code> file containing sizes and hashes will be located next to <code>module</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mod</span> <span class="o">=</span> <span class="n">checks_module</span><span class="p">(</span><span class="n">fastdownload</span><span class="p">)</span>
<span class="n">mod</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;git/fastdownload/fastdownload/download_checks.py&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="read_checks" class="doc_header"><code>read_checks</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L40" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>read_checks</code>(<strong><code>fmod</code></strong>)</p>
</blockquote>
<p>Evaluated contents of <code>download_checks.py</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">read_checks</span><span class="p">({})</span> <span class="o">==</span> <span class="p">{}</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="check" class="doc_header"><code>check</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L47" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>check</code>(<strong><code>fmod</code></strong>, <strong><code>url</code></strong>, <strong><code>fpath</code></strong>)</p>
</blockquote>
<p>Check whether size and hash of <code>fpath</code> matches stored data for <code>url</code> or data is missing</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="update_checks" class="doc_header"><code>update_checks</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L53" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>update_checks</code>(<strong><code>fpath</code></strong>, <strong><code>url</code></strong>, <strong><code>fmod</code></strong>)</p>
</blockquote>
<p>Store the hash and size of <code>fpath</code> for <code>url</code> in <code>download_checks.py</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">mod</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span> <span class="n">mod</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
<span class="n">update_checks</span><span class="p">(</span><span class="n">fpath</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">mod</span><span class="p">)</span>
<span class="n">read_checks</span><span class="p">(</span><span class="n">mod</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;https://s3.amazonaws.com/fast-ai-sample/mnist_tiny.tgz&#39;: (342207,
  &#39;56143e8f24db90d925d82a5a74141875&#39;)}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="download_and_check" class="doc_header"><code>download_and_check</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L60" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>download_and_check</code>(<strong><code>url</code></strong>, <strong><code>fpath</code></strong>, <strong><code>fmod</code></strong>, <strong><code>force</code></strong>)</p>
</blockquote>
<p>Download <code>url</code> to <code>fpath</code>, unless exists and <a href="/core.html#check"><code>check</code></a> fails and not <code>force</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="FastDownload" class="doc_header"><code>class</code> <code>FastDownload</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L70" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>FastDownload</code>(<strong><code>cfg</code></strong>=<em><code>None</code></em>, <strong><code>base</code></strong>=<em><code>'~/.fastdownload'</code></em>, <strong><code>archive</code></strong>=<em><code>None</code></em>, <strong><code>data</code></strong>=<em><code>None</code></em>, <strong><code>module</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">FastDownload</span><span class="p">(</span><span class="n">module</span><span class="o">=</span><span class="n">fastdownload</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">module</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;git/fastdownload/fastdownload/download_checks.py&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The <code>config.ini</code> file will be created (if it doesn't exist) in <code>{base}/config.ini</code>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">config_file</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;.fastdownload/config.ini&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">cfg</span><span class="o">.</span><span class="n">config_file</span><span class="o">.</span><span class="n">read_text</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[DEFAULT]
data = /home/jhoward/.fastdownload/data
archive = /home/jhoward/.fastdownload/archive


</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="FastDownload.download" class="doc_header"><code>FastDownload.download</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L93" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>FastDownload.download</code>(<strong><code>url</code></strong>, <strong><code>force</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Download <code>url</code> to archive path, unless exists and <code>self.check</code> fails and not <code>force</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If there is no stored hash and size for <code>url</code>, or the size and hash matches the stored checks, then <code>download</code> will only download the URL if the destination file does not exist. The destination path will be retured.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span> <span class="n">d</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">unlink</span><span class="p">()</span>
<span class="n">arch</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">arch</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='344064' class='' max='342207' style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.54% [344064/342207 00:00<00:00]
    </div>
    </div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;.fastdownload/archive/mnist_tiny.tgz&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="FastDownload.update" class="doc_header"><code>FastDownload.update</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L104" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>FastDownload.update</code>(<strong><code>url</code></strong>)</p>
</blockquote>
<p>Store the hash and size in <code>download_checks.py</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="nb">eval</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">module</span><span class="o">.</span><span class="n">read_text</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;https://s3.amazonaws.com/fast-ai-sample/mnist_tiny.tgz&#39;: (342207,
  &#39;56143e8f24db90d925d82a5a74141875&#39;)}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Calling <code>download</code> will now just return the existing file, since the checks match:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;.fastdownload/archive/mnist_tiny.tgz&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If the checks file doesn't match the size or hash of the archive, then a new copy of the file will be downloaded.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="FastDownload.extract" class="doc_header"><code>FastDownload.extract</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L108" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>FastDownload.extract</code>(<strong><code>url</code></strong>, <strong><code>extract_key</code></strong>=<em><code>'data'</code></em>, <strong><code>force</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Extract archive already downloaded from <code>url</code>, overwriting existing if <code>force</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">extr</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">extr</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;.fastdownload/data/mnist_tiny&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">extr</span><span class="o">.</span><span class="n">ls</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(#5) [Path(&#39;.fastdownload/data/mnist_tiny/models&#39;),Path(&#39;.fastdownload/data/mnist_tiny/train&#39;),Path(&#39;.fastdownload/data/mnist_tiny/labels.csv&#39;),Path(&#39;.fastdownload/data/mnist_tiny/valid&#39;),Path(&#39;.fastdownload/data/mnist_tiny/test&#39;)]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Pass <code>extract_key</code> to use a key other than <code>data</code> from your config file when selecting an archive extraction location:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">cfg</span><span class="p">[</span><span class="s1">&#39;model_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;models&#39;</span>
<span class="n">d</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">extract_key</span><span class="o">=</span><span class="s1">&#39;model_path&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>Path(&#39;.fastdownload/models/mnist_tiny&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="FastDownload.rm" class="doc_header"><code>FastDownload.rm</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L98" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>FastDownload.rm</code>(<strong><code>url</code></strong>, <strong><code>rm_arch</code></strong>=<em><code>True</code></em>, <strong><code>rm_data</code></strong>=<em><code>True</code></em>, <strong><code>extract_key</code></strong>=<em><code>'data'</code></em>)</p>
</blockquote>
<p>Delete downloaded archive and extracted data for <code>url</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">extr</span><span class="o">.</span><span class="n">exists</span><span class="p">(),</span><span class="n">arch</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(False, False)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="FastDownload.get" class="doc_header"><code>FastDownload.get</code><a href="https://github.com/fastai/fastdownload/tree/master/fastdownload/core.py#L116" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>FastDownload.get</code>(<strong><code>url</code></strong>, <strong><code>extract_key</code></strong>=<em><code>'data'</code></em>, <strong><code>force</code></strong>=<em><code>False</code></em>)</p>
</blockquote>
<p>Download and extract <code>url</code>, overwriting existing if <code>force</code></p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">res</span><span class="p">,</span><span class="n">extr</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea ">
    <div>
        <style>
            /* Turns off some styling */
            progress {
                /* gets rid of default border in Firefox and Opera. */
                border: none;
                /* Needs to be in here for Safari polyfill so background images work as expected. */
                background-size: auto;
            }
            .progress-bar-interrupted, .progress-bar-interrupted::-webkit-progress-bar {
                background: #F44336;
            }
        </style>
      <progress value='344064' class='' max='342207' style='width:300px; height:20px; vertical-align: middle;'></progress>
      100.54% [344064/342207 00:00<00:00]
    </div>
    </div>

</div>

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(Path(&#39;.fastdownload/data/mnist_tiny&#39;), True)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If the archive doesn't exist, but the extracted data does, then the archive is not downloaded again.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">rm_data</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">res</span><span class="p">,</span><span class="n">extr</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(Path(&#39;.fastdownload/data/mnist_tiny&#39;), True)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>extract_key</code> works the same way as in <a href="/core.html#FastDownload.extract"><code>FastDownload.extract</code></a>:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">res</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">extract_key</span><span class="o">=</span><span class="s1">&#39;model_path&#39;</span><span class="p">)</span>
<span class="n">res</span><span class="p">,</span><span class="n">res</span><span class="o">.</span><span class="n">exists</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(Path(&#39;.fastdownload/models/mnist_tiny&#39;), True)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

